{%  extends "base.html.twig" %}

{% block title %}
	Finalisez votre commande - Les Soeurs Théière
{% endblock %}

{% block body %}
	<div class="container" id="checkout">
	
		<!-- Inclusion du progress stepper -->
		{{ include("@Content/Default/checkoutstepper.html.twig", {"step": "checkout"}) }}
	</div>
	
	<section class="row" id="total-basket">
		<div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
			<p>Montant total de votre commande : <span class="amount"></span></p>
		</div>
		
		<div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
			<p>Frais de livraison : <span class="carrying-charge"></span></p>
		</div>
		
		<div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
			<p>Total à payer : <span data-price="" class="full-amount"></span></p>
		</div>
	</section>

	<section class="row">
		<address id="billing-address" class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
			<h4>Adresse de facturation</h4>
			<ul class="list-unstyled">
				<li class="address"></li>
				<li class="city"></li>
				<li class="country"></li>
			</ul>
		</address>
		
		<address id="delivery-address" class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
			<h4>Adresse de livraison</h4>
			<ul class="list-unstyled">
				<li class="address"></li>
				<li class="city"></li>
				<li class="country"></li>
			</ul>
		</address>
	</section>
		
	<section class="row" id="payment-picker">
		<header class="col-12">
			<h4>Choisissez votre mode de règlement</h4>
		</header>
		
		<div id="credit-card-picker" class="col-12">
			<p>
				<a class="" title="Payer en ligne avec Systempay" data-toggle="collapse" data-target="#credit-card" aria-expanded="true" aria-controls="credit-card">
					<img src="{{ asset("images/systempay.jpg") }}" class="img-responsive logo" alt="Logo Systempay">
				</a>
			</p>
			
			<div class="collapse show" id="credit-card">
				<div class="card card-body">
					<div class="alert alert-info alert-dismissible fade show">
						Les informations saisies ici ne sont pas conservéees sur notre site afin de garantir le maximum de sécurité concernant votre carte.
						<button type="button" class="close" data-dismiss="alert" aria-label="Fermer">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					
					<!-- Le formulaire lui-m�me -->
					<form id="credit-card-form" class="form material-like">
        				<fieldset>
        					<legend>Payez en ligne en toute sécurité</legend>
            				<div class="form-group owner">
            					<input type="text" class="form-control" required name="owner" id="owner-content" data-content="false" autocomplete="nope">
            					<span class="hightlight"></span>
            					<span class="bar"></span>
            					<label for="owner-content">Titulaire</label>
            						
            					<div class="alert alert-danger hidden" data-rel="owner-content">
            							Veuillez renseigner le titulaire de la carte.
            					</div>
            				</div>
            				
            				<div class="form-group cardnumber">
            					<input type="text" class="form-control" required name="cardnumber" id="cardnumber-content" data-content="false" autocomplete="nope">
            					<span class="hightlight"></span>
            					<span class="bar"></span>
            					<label for="cardnumber-content">N° de carte</label>
            						
            					<div class="alert alert-danger hidden" data-rel="cardnumber-content" id="cardnumber-alert">
            					
            					</div>
            				</div>
            				
            				<div class="form-group expiration-date">
 								<div class="row">
            						<div class="col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12">
                						<label for="expirationmonth-content" aria-hidden="true" aria-labelled-by="expirationmonth-content">Date d'expiration</label>
                						
                						<select class="form-control" id="expirationmonth-content" size="1" required>
                							<option value="" disabled selected>Mois...</option>
                							<option value="01">Janvier</option>
                							<option value="02">Février</option>
                							<option value="03">Mars</option>
                							<option value="04">Avril</option>
                							<option value="05">Mai</option>
                							<option value="06">Juin</option>
                							<option value="07">Juillet</option>
                							<option value="08">Août</option>
                							<option value="09">Septembre</option>
                							<option value="10">Octobre</option>
                							<option value="11">Novembre</option>
                							<option value="12">Décembre</option>
                						</select>
            						
            						</div>
            						
            						<div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
                						<label for="expirationyear-content" aria-hidden="true" aria-labelled-by="expirationyear-content">Date d'expiration</label>
                						<select class="form-control" size="1" id="expirationyear-content" data-rel="year" required>
                							<option value="" disabled selected>Année...</option>
                						</select>	            						
            						</div>
            					</div>
            				</div>
            				
            				<!--  Cryptogramme de la carte -->
            				<div class="form-group">
                				<div class="form-group cvv">
                					<input type="text" class="form-control" required name="cvv" id="cvv-content" data-content="false" autocomplete="nope">
                					<span class="hightlight"></span>
                					<span class="bar"></span>
                					<label for="cvv-content">Crypto</label>
                						
                					<div class="alert alert-danger hidden" data-rel="cvv-content">
                							Le cryptogramme est obligatoire
                					</div>
                				</div>            					
            				</div>
            				
            				<!-- Réassurance de type de carte -->
            				<div class="row" id="cards-logo">
            					<div class="col-12 text-right">
            						<img src="{{ asset("images/logo_visa.gif") }}" class="img-responsive cc-logo" title="Visa" id="visa">
            						<img src="{{ asset("images/logo_mastercard.gif") }}" class="img-responsive cc-logo" title="Mastercard" id="mastercard">
            						<img src="{{ asset("images/logo_amex.gif") }}" class="img-responsive cc-logo" title="American Express" id="amex">
            					</div>
            				</div>
            				
            				<div class="row">
            					<div class="col-12">
            						<button type="submit" disabled class="btn btn-outline-primary" id="confirm-payment">
            							Validez votre achat
            						</button>
            					</div>
            				</div>
            			</fieldset>						
					</form>
				</div>
			</div>
			
			<p>
				<a class="" title="Règlement par chèque" data-toggle="collapse" data-target="#bank-check" aria-expanded="false" aria-controls="bank-check">
					<img src="{{ asset("images/logo-cheque.png") }}" class="img-responsive logo" alt="Logo Règlement par chèque à l'attention des Soeurs Théière">
				</a>
			</p>
			
			<div class="collapse" id="bank-check">
				<p>Votre commande sera expédiée à réception de votre règlement par chèque à l'attention de : <strong>{{ address.name }}</strong></p>
				<address itemprop="address">
					<ul class="list-unstyled">
						{% if address.address.hote|length %}
							<li>{{ address.address.hote }}</li>
						{%  endif %}
						<li itemprop="streetAddress">
							{{ address.address.streetNumber }} {{ address.address.street }}
						</li>
						<li><span itemprop="postalCode">{{ address.address.zipcode }}</span> <span itemprop="addressLocality">{{ address.address.city }}</span>
					</ul>
				
				</address>
			</div>
		</div>
		
	</section>
	

{% endblock %}